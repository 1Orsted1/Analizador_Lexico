
token scanner::num(){
 
int actual = 0,prior = udef ;
bool real_iniciado_cero = false;
while(actual != udef){
 char c = read();
  numero += c;
  prior = actual;
 switch (actual) {
    case 0:
	if(isdigit(c))
	  if(c == '0'){
	    real_iniciado_cero  = true;
	    actual = 1;
	  }else{
	  actual = 1;
	}
	else  actual = udef;
    break;
    case 1:
	if(real_iniciado_cero == false){
	  if(isdigit(c)) actual =1;
	  else if(c == '.') actual = 2;
	  else if(!isspace(c)){actual = 4;}
	  else actual = udef;
	}else {
	  if(c == '.') actual = 2;
	  else actual = 4;
	}
     break;
     case 2:
	if(isdigit(c)) actual = 3;
	else actual = udef;
     break;
     case 3:
	if(isdigit(c)) actual = 3;
	else if(!isspace(c)){ actual = 4;}
	else actual = udef;
     break;
     case 4:
	actual = udef;
     break;
    }

  }
  if(prior == 1 || prior == 3){
    fallback();
    success();
  }
  if (prior == 1)return _int;
  if (prior == 3)return _real;

  fail();
  return _err;
}


/*Aqui va el octal*/
bool scanner::oct(){
 
int actual = 0,prior = udef ;

while(actual != udef){
  
  char c = read();
  prior = actual;
  switch (actual) {
    case 0:
      if(c =='0')actual=1;
      else actual = udef; 
    break;
    case 1:
      try {
      int i = c -48;
      if(i >= 0 && i <  8)actual = 1;
      else actual = udef;
      } catch (int) {
      actual = udef;
      } 
      break;

    default:
    break;
 }
}
if(prior == 1){
  fallback();
  success();
  return true;
}
fail();
return false;
}

/**/




/*Aqui va el hexadecimal*/

bool scanner::hex(){
 
int actual = 0,prior = udef ;

while(actual != udef){
  
  char c = read();
  prior = actual;
  switch (actual) {
    case 0:
      if(c =='0')actual=1;
      else actual = udef; 
    break;
    case 1:
      if(c == 'x'||c == 'X')actual = 2;
      else actual = udef;
      break;
    case 2:
      if (isxdigit(c) != 0) actual = 3;
      else actual = udef;
    break; 
    case 3:
      if (isxdigit(c) != 0) actual = 4;
      else actual = udef;
    break; 
    case 4:
      if (isxdigit(c) != 0) actual = 3;
      else if(c == '_')actual = 3;
      else actual = udef;
    break; 
    default:
    break;
 }
}
if(prior == 4){
  fallback();
  success();
  return true;
}
fail();
return false;
}




Octales
053
034
01
Hexadecimales
0x34
0xA4f5
0xABCD
Enteros
1
12
123
Reales
24.0
0.0
0.365
3.1426
